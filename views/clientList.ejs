<!DOCTYPE html>
<html>
  <head>
    <script
           src="https://code.jquery.com/jquery-3.2.1.min.js"
           integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
           crossorigin="anonymous"></script>

   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


   <!-- Latest compiled and minified JavaScript -->
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style.css">
    <script src="https://use.fontawesome.com/f83971ce92.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <script src="./script.js"></script>
  </head>
  <body class="page">

    <h1 class="title">Liste de <span id="count-contact"></span> contact</h1>
    Add contact: <span class="glyphicon glyphicon-plus-sign" data-toggle="modal" data-target="#modal-add"></span>
    <div class="container">
      <div class="row">

        <% for(var i=0; i<clients.length; i++) { %>
          <div class="contact col-xs-12 col-sm-6 col-md-3 col-lg-2">
            <table>
              <tr>
                <td><img class="avatar img-circle" src="https://lacapsule.academy/wks1/team-<%=i+1%>.jpg"></td>
             </tr>
              <tr class="data-contact">
                <td class="text-center"><i class="fa fa-user" aria-hidden="true"></i></td><td> <%= clients[i].firstName %><i data-position="<%=i%>" data-property="firstName" class="fa fa-pencil" aria-hidden="true" data-toggle="modal" data-target="#modal-update"></i>  <%= clients[i].lastName %><i data-position="<%=i%>" data-property="lastName" class="fa fa-pencil" aria-hidden="true" data-toggle="modal" data-target="#modal-update"></i></td>
              </tr>
              <tr class="data-contact">
                <td class="text-center"><i class="fa fa-envelope" aria-hidden="true"></i></td><td> <%= clients[i].email %><i data-position="<%=i%>" data-property="email"  class="fa fa-pencil" aria-hidden="true" data-toggle="modal" data-target="#modal-update"></i></td>
              </tr>
              <tr class="data-contact">
                <td class="text-center"><i class="fa fa-phone" aria-hidden="true"></i></td><td> <%= clients[i].phone %><i data-position="<%=i%>" data-property="phone"  class="fa fa-pencil" aria-hidden="true" data-toggle="modal" data-target="#modal-update"></i></td>
              </tr>
              <tr>
                <td class="text-center"><a class="trash" href="./delete?i=<%=i%>"><i class="fa fa-trash-o" aria-hidden="true"></i></a></td>
              </tr>
          </table>
          </div>
        <% } %>

      </div>
    </div>

   <div class="modal fade" id="modal-add" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
     <div class="modal-dialog" role="document">
       <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Add contact</h4>
          </div>
          <div class="modal-body">
            <div id="add-error"></div>
             <form id="add-form" action="./add">

               <div class="form-group">
                 <label for="add-firstname">Prenom</label>
                 <input class="form-control" id="add-firstname" placeholder="Prenom" type="text" name="firstName" value="">
               </div>

               <div class="form-group">
                 <label for="add-email">Nom</label>
                 <input type="text" class="form-control" id="add-lastname" placeholder="Nom" type="text" name="lastName" value="">
               </div>

               <div class="form-group">
                 <label for="add-email">Email</label>
                 <input type="email" class="form-control" id="add-email" placeholder="Email" name="email" value="">
               </div>
               <div class="form-group">
                 <label for="add-phone">Téléphone</label>
                 <input type="text" class="form-control"  id="add-phone" placeholder="Téléphone" name="phone" value="">
               </div>

               <button type="submit" class="btn btn-default">Valider</button>
             </form>
           </div>
       </div>
     </div>
   </div>


    <div class="modal fade" id="modal-update" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Update contact</h4>
          </div>
          <div class="modal-body">
            <form action="./update">
              <div class="form-group">
                <label for="exampleInputEmail1">Nouvelle valeur</label>
                <input type="text" class="form-control" name="value" value="">
              </div>
              <input type="hidden" name="i" id="update-position" value="">
              <input type="hidden" name="property" id="update-property" value="">
              <button type="submit" class="btn btn-default">Valider</button>
            </form>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>
